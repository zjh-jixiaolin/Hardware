# 手把手教你 51 单片机 — C语言版


[TOC]

官方资料：https://www.qdkingst.com

## 1. 序章

### 1.1 内容简介	

《手把手教你学 51 单片机-C 语言版》是一本由 **金沙滩工作室** 宋雪松老师等人员编著、由 **清华大学** 出版社正式出版的单片机教材，作者本着 **开源共享精神** 开放了免费电子版书籍，旨在帮助到想好单片机技术的朋友们。

书中内容从最初一个小灯的简单实验，逐步增加扩展知识面，到最后多功能电子钟的实际项目开发指导，其中不仅仅讲解了大量原理性知识，更重要的是为读者提供了 **实际项目开发的思路和经验**，可以让大家从实际过程中**提高自己发现问题、分析问题、解决问题的能力。**



### 1.2 为什么写这样的书

​	单片机技术，是 **现代工业自动化、电子电气、通信及物联网** 等领域的一门主流技术，生活中常见的家电内部都有单片机的身影，无数自动化及职能公共设施也都有单片机在背后默默工作着。单片机也是学习  **ARM 嵌入式系统、FPGA设计** 等高阶技术的一个基础。

​	很多人学习单片机技术，看了很多书，付出了不少努力，但总感觉 **似懂非懂，实际遇上具体的项目很茫然无从下手**，市面上（包括在学校上课） 的大部分书籍和课程，都 **太过理论化，全是讲架构和汇编指令，学半天不知道单片机为何物**，要么就是一些简单的小实验，学完点亮个小灯或数码管，连 **C语言指针都没用到过，综合的实际案例一个也没有**，学完后无法深入下去，**很难跟实际的项目开发链接起来**。就像学校学习服务器的知识一样，讲了一大堆理论，然后在虚拟机上练习指令，利用现成模块部署一个网页端在虚拟机上，连服务器长什么样都不知道。





## 2.1 单片机的内部资源

### 2.1.1 单片机的三大资源

---

- `Flash` — 程序存储空间，早期单片机为 `OTPROM`。

- `RAM` — 数据存储空间。

- `SFR` — 特殊功能寄存器。

  ![image-20230718221451008](https://raw.githubusercontent.com/zjh-jixiaolin/map_strong/main/202307182217222.png)

#### Flash（程序存储空间）

​	在早期的单片机，主要使用 `OTPROM`（即一次可编程只读存储器）存储单片机程序，程序只能写入一次，如果需要重写程序则只能换一片（成本较高）。随技术的发展出现了 `Flash` ，其特点是**可反复擦写**、**容量大**、**成本低**。对于单片机 `Flash` 最大意义是 **断电后数据不丢失** （概念类似于电脑硬盘）。

#### RAM（数据存储空间）

​	`RAM` 是单片机数据存储空间，用来存储 **程序运算过程中产生的和需要的数据**（概念类似于电脑内存），优点是 **读写速度快**、**理论无限次写入（寿命无限）**，缺点就是 **断电后数据丢失**。举个例子，用计算器算个加减法，一些中间的数据都会保存在 RAM 里边，关电后数据丢失，所以我们每次打开计算器，都是从归零开始计算。

#### SFR（特殊功能寄存器）

​	`SFR` 是单片机**内部外设**和 `CPU` 交互的寄存器。`CPU` 通过读写 `SFR` 来**配置外设**,从而**控制**单片机的**输入输出**和**其他功能**。单片机有很多的功能，每个功能对于一个或多个 `SFR`，而我们通过 `SFR` 的**读写**即可实现单片机的各种多样性功能。



### 2.1.2 51 单片机

---

​	兼容 `Intel MCS-51` 体系结构的一系列单片机。课程使用的单片机为 `STC89C52`，由宏晶科技出品的一款 `51` 内核的单片机，具有标准的 `51` 体系结构，全部的 `51` 标准功能。

资源情况如下：

- `Flash` 程序空间是 `8K` 字节(`1K`=`1024`，`1` 字节= `8` 位)。
- `RAM` 数据空间是 `512` 字节。
- `SFR` 后边会逐一提到并且应用。

![image-20230724110025097](C:\Users\zjh\AppData\Roaming\Typora\typora-user-images\image-20230724110025097.png)

>比特（bit）是计算机内部数据的最小单位。计算机采用二进制形式存储数据，0和1分别表示比特。
>
>字节（Byte）是计算机操作数据的基本单位。由 8个连续的比特（bit）组成。字节作为一个整体，可以表示一个字符或数字。一个字节最大为8个1（11111111）即2的8次方，总共是256种状态。                
>
>MB、KB、字节、bit位换算关系：1MB=1024KB、1KB=1024字节（Byte）、1字节=8bit。                                                               
>
>参考：[详解计算机的字、字节（Byte）、比特（bit）](https://zhuanlan.zhihu.com/p/422907374)

